<div id="pagecontainer" class="page container">
  <% if (history.length > 0) { %>
  <% history.forEach((element) => { %>
  <%  let song = { name: element.name, previewUrl: element.preview_url, image: element.image } %>
  <%  let artistInfo = { id: element.artist_id, name: element.artist_name, location: element.artist_location, locationLabel: element.artist_locationLabel} %>
  <%  let artistBio = element.artist_bio %>
  <% include partials/player.ejs %>
  <% }) %>
  <% } else {%>
  
  <div class="empty-page history"><div class="empty-page-text">Hmm, seems like it's your first time here. Take a look and find your most recent music activity to keep track of all the history you have been listening.</div></div>
  <% } %>
</div>
 <script 
    async 
    defer 
    src="https://maps.googleapis.com/maps/api/js?v=3.20&key=AIzaSyDHylimdPIr0Lfc6WzCjS47B7mrNrTQSJ0">
</script>
<script>
setTimeout(function() {
  if ($('.empty-page').length > 0) {
    $('body').css('margin-bottom','0px');
    $('.container').css('padding-left', '0px');
    $('.container').css('padding-right', '0px');
    $('#pagecontainer').removeClass('page');
    $('#pagecontainer').addClass('emptypage');
    $('footer').css('bottom', '20px');
}
}, 100);  

setTimeout(function(){ 
    for (var property in initializeMaps) {
      initializeMaps[property]();
    }
  }, 2000);
</script>
